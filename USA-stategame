import turtle
import pandas as pd

guessed_states = 0

states_data = pd.read_csv("50_states.csv")
df = pd.DataFrame(states_data)
print(df)
screen = turtle.Screen()

screen.setup(width=700, height=500)
screen.title("U.S States Game")

image = "blank_states_img.gif"
screen.addshape(image)
screen_img = turtle.Turtle()
screen_img.shape(image)

pen = turtle.Turtle()
pen.hideturtle()

state_list = states_data["state"].to_list()
x_cor = states_data["x"].to_list()
y_cor = states_data["y"].to_list()
print(state_list)


def check_state(answer, list):
    count = 0
    for state in list:
        if state == answer:
            count += 1
    return count


while guessed_states != 50:

    answer = screen.textinput(title="Guess the state", prompt="What's another state you know?").title()
    print(answer)
    count = check_state(answer, state_list)
    print(count)
    if count == 1:
        index = df.index
        condition = df["state"] == answer
        answer_index = index[condition]
        print(answer_index)
        x_cor = df.iloc[answer_index, 1]
        x = int(x_cor)
        print(x)
        y_cor = df.iloc[answer_index, 2]
        y = int(y_cor)
        pen.hideturtle()
        pen.penup()
        pen.goto(x, y)
        pen.write(answer)
        guessed_states += 1
        print(guessed_states)


screen_img.hideturtle()
pen.clear()
pen.goto(0, 0)
pen.write("You finished the game!", False, "center", ("Sans", 24, "bold"))


# def get_cor(x,y):
#    print(x,y)

# turtle.onscreenclick(get_cor)
# turtle.mainloop()


screen.exitonclick()
